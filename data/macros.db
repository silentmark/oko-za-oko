{"_id":"bEUc977saVQVGtA4","name":"Wyślij na Czat","type":"script","author":"CRn9bjpacet7PQxQ","img":"icons/svg/dice-target.svg","scope":"global","command":"let journals = game.journal.filter(function(e) { return e.name == args[0] });\nlet gms = game.users.filter(u => u.isGM).map(u => u.id);\nfor(let i = 0; i < journals.length; i++) {\n    let journal = journals[i]; \n    let content = \"<h2>\" + journal.data.name + \"</h2><p>\" + journal.data.content + \"</p>\";\n    if(journal.folder.name == \"GM\") {\n        content = \"<h2>\" + journal.data.name + \" (Tylko dla GMa)</h2><p>\" + journal.data.content + \"</p>\";\n        let actor = game.actors.getName(\"Demon Gemäldebildmalden\")\n        ChatMessage.create({\n             blind: true,\n             speaker: ChatMessage.getSpeaker({actor: actor}),\n             whisper: gms,\n             content: content\n        });\n    }  else {\n        ChatMessage.create({\n             user: game.user.id,\n             speaker: ChatMessage.getSpeaker({alias: game.users.get(gms[0]).data.name}),\n             content: content\n        });\n    }\n}","folder":null,"sort":0,"permission":{"default":0,"CRn9bjpacet7PQxQ":3},"flags":{"advanced-macros":{"runAsGM":true}}}
{"name":"PlayPlaylist","type":"script","author":"CRn9bjpacet7PQxQ","img":"icons/svg/dice-target.svg","scope":"global","command":"const [id] = args;\n\nconst playlist = game.playlists.get(id);\nif(playlist !== null) {\n  playlist.playAll()\n}","folder":null,"sort":0,"permission":{"default":0,"CRn9bjpacet7PQxQ":3},"flags":{"core":{"sourceId":"Macro.wPbYjJZSGQse5PZS"}},"_id":"kTJrZoDP22e3LI4b"}
